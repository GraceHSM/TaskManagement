<%= render 'topbar' %>
<section class="container-fluid">
<h2 class='mt-3'>User Lists</h2>
<table class='table mt-3'>
  <thead>
    <tr>
      <th><%= t('user_name') %></th>
      <th><%= t('email') %></th>
      <th><%= t('task_count') %></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
    <tr>
      <td><%= user.username %></td>
      <td><%= user.email %></td>
      <td><%= user.tasks.count %></td>
      <% #user.tasks.count 之後會在 User 新增一個欄位,對應 Task.count,改善 N+1 問題 %>
      <td><%= link_to 'Edit', edit_user_path(user) %><%= link_to 'Delete', user_path(user), method: 'delete' %></td>
    </tr>
    <% end %>
  </tbody>
</table>
<%= link_to 'NewUser', new_user_path %>
</section>